<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description"
    content="Presentazione 3D interattiva per la scuola â€” Biologia. Modelli anatomici in alta fedeltÃ ." />
  <title>Biologia 3D</title>

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="style.css?v=26" />

  <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.133.1/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.133.1/examples/jsm/"
      }
    }
  </script>
</head>

<body>
  <div class="app">

    <!-- â”€â”€â”€ HEADER â”€â”€â”€ -->
    <header class="header" id="header">
      <h1>ðŸ”¬ Biologia 3D</h1>
      <span class="header-sep">Â·</span>
      <p id="chapter-indicator">Microstruttura</p>

      <div class="mode-switch">
        <span class="mode-btn active">3D Viewer</span>
        <a href="centrifuga.html" class="mode-btn">Centrifuga</a>
        <a href="ematologia.html" class="mode-btn">Ematologia</a>
        <a href="vasi.html" class="mode-btn">Vasi & Patologia</a>
      </div>
    </header>

    <!-- â”€â”€â”€ VIEWER 3D â”€â”€â”€ -->
    <div class="viewer" id="viewer">
      <canvas id="canvas3d"></canvas>

      <!-- Video Panel (floating, bottom-right) -->
      <div class="video-panel hidden" id="video-panel">
        <div class="video-panel-header">
          <span class="video-panel-title">ðŸŽ¥ Sangue nel Cuore</span>
          <button id="btn-close-video" class="video-panel-close">âœ•</button>
        </div>
        <video id="video-player" controls>
          <source src="videos/sanguenelcuore.mp4" type="video/mp4">
        </video>
      </div>

      <!-- Loader Overlay -->
      <div class="loader-overlay" id="loader">
        <div class="spinner"></div>
        <p class="loader-text">Caricamento modelloâ€¦</p>
      </div>

      <!-- Info Card -->
      <div class="info-card" id="info-card">
        <div class="info-card-header">
          <h2 id="info-title">Modello</h2>
          <button id="btn-focus" class="btn-icon" title="Nascondi testo">
            <svg id="icon-eye-open" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
            <svg id="icon-eye-closed" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="display:none">
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94" />
              <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19" />
              <line x1="1" y1="1" x2="23" y2="23" />
            </svg>
          </button>
        </div>
        <div class="info-accent-line"></div>
        <p id="info-desc">Seleziona un modello dalla barra in basso.</p>
      </div>

      <!-- Controls (Top Right) -->
      <div class="controls-tr">
        <button id="btn-rotate" class="btn-icon" title="Auto-rotazione">ðŸ”„</button>
        <button id="btn-reset" class="btn-icon" title="Reset vista">ðŸŽ¯</button>
      </div>
    </div>

    <!-- â”€â”€â”€ BOTTOM BAR â”€â”€â”€ -->
    <div class="bottom-bar">
      <nav class="nav-pills" id="nav-bar"></nav>
      <div class="action-row" id="context-actions"></div>
    </div>

  </div>

  <script type="module" src="script.js?v=26"></script>
</body>

</html>